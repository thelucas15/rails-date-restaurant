 <html>
    <head>

    </head>

<body>
   <form class="form-inline">
          <div class="form-group">
          <input type="text" class="form-control" id="address-input" placeholder="Type an address">
          <span class="help-block" id="error-message"></span>
          </div>

          <div class="form-group">

          <button type="submit" class="btn btn-primary" id="geo-btn">GeoCode!</button>
      </div>
    </form>

     <div class="row">
          <h3 class="output" id="lat-ln"></h3>
      </div>

<div id="map" style="height: 600px;"></div>

<h2 id="addr"></h2>



</body>

 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js"></script>

<script>
$(document).ready(function() {

  function showError(message){
    $("#error-message").html(message).parent().addClass("has-error");
  };

  $("#geo-btn").on("click", function(event){
    event.preventDefault();
    var userInput = $("#address-input").val();

      $.ajax({
      type: "GET",
      url: "https://maps.googleapis.com/maps/api/geocode/json?address=" + userInput,
      success: function(data) {
        // get the lat and lng from the json data
      // var message = jqXHR.responseText.error_message;
      console.log(data);
      if (data.results.length == 0) {

        showError("no array");

      } else {
        $("#error-message").html("").parent().removeClass("has-error");
        var lat = data.results[0].geometry.location.lat;
        var lng = data.results[0].geometry.location.lng;
        // show
        $("#lat-ln").text(lat + ', ' + lng);

        var map = new google.maps.Map(document.getElementById('map'), {
        center: { lat: lat, lng: lng },
        zoom: 14  // Change this value from 0 to 18
        });

        var marker = new google.maps.Marker({
        map: map,
        position: { lat: lat, lng: lng }
        });
      }
      },
      error: function(jqXHR) {
        console.error(jqXHR.responseText);

        showError(jqXHR.responseJSON.error_message);




        // var errorMessage = data.results[0].
      }
    });
  });

// ------------------- REVERSEE GEO


var lat = 38.7205373;
var lng = -9.1459023;

$.ajax({
      type: "GET",
      url: "https://maps.googleapis.com/maps/api/geocode/json?latlng=" + lat + "," + lng,
      success: function(data) {
        // get the lat and lng from the json data
      // var message = jqXHR.responseText.error_message;
      console.log("DATA; ", data);
      console.log("DATA results; ", data.results);
      console.log("DATA results example; ", data.results[0]);
      console.log("DATA results example addr; ", data.results[0].formatted_address);

      var addr = data.results[0].formatted_address

      $("#addr").text(addr);

      if (data.results.length == 0) {

        showError("no array");

      } else {
        $("#error-message").html("").parent().removeClass("has-error");

      }
      },
      error: function(jqXHR) {
        console.error(jqXHR.responseText);

        showError(jqXHR.responseJSON.error_message);
      }
    });
});

</script>

 </html>



